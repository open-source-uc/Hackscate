---
interface Props {
    number?: number;
    title?: string;
    text: string;
    image?: string;
    imageAlt?: string;
    class?: string;
}

const { 
    number,
    title,
    text, 
    image, 
    imageAlt = "", 
    class: className = "",
    ...rest 
} = Astro.props;

const formattedNumber = number ? number.toString().padStart(2, '0') : null;
---

<div
    class:list={[
        "relative rounded-lg bg-card border border-border overflow-hidden flex flex-col",
        className
    ]}
    {...rest}
>
    <!-- Optional Image -->
    {image && (
        <div class="flex-1 min-h-[200px]">
            <img
                src={image}
                alt={imageAlt}
                class="w-full h-full object-cover"
                loading="lazy"
                decoding="async"
            />
        </div>
    )}

    <!-- Content -->
    <div class="px-6 py-8 flex flex-col gap-4">
        {formattedNumber && (
            <span class="text-lg font-semibold font-width-narrow text-muted-foreground">
                {formattedNumber}.
            </span>
        )}
        {title && (
            <h3 class="text-xl font-bold text-foreground">
                {title}
            </h3>
        )}
        <p class="text-foreground leading-relaxed">
            {text}
        </p>
    </div>
</div>
